{{!< default}}

<style>
    .FormData{
        width:100%;
        height:100%;
        display:flex;
        flex-direction:column;
        position:relative;
        gap:20px;
        padding-left:40px;      
    }
    .organizationName1, .SelectLocation, .AboutUs, .SelectWebsite, .selectIndurtries, .number, .Specialties,   
    .email, .FoundedIn, .Type, .country, .City {
        width:50%;
        height:45px;
        font-style: italic;
        display:flex;
    }
    .submit{
        width:10%;
        margin-left: 16%;

    }
    span{
        color:red;
    }
    label{
      font-style:italic;
    }
    .Contries{
      display:block;
    }
    .lists{
      display:flex;
      gap:30px;
    }
    .SocialMedia{
      display: grid;
      width: 39%;
      gap: 6px;
    }
    .mediaURL{
      display:flex;
      justify-content:space-between;
    }
   .uploadPNG, .uploadCover{
        background: #efefef;
        border: 1px solid black;
        padding: 10px;
        display: inline-block;
        width: 135px;
   }
</style>
<br/>

<form class="contact-form" id="contact-form" method="get">
<div class="FormData">
    <div >
    <label>Name of the organization </label>
    <input type="text" name="title" title="Name" id="organizationName" class="organizationName1" />
    <span id="NameError" style="display: none;">*Please enter name of Organization </span>
    </div>
    <div>
      <label for="countries">Country</label>
      <select class="country" id="Count" onclick="loadCountries()" name="countries">
        <option disabled selected>               </option>
      </select>
      <span id="countryError" style="display:none;">*Please select the country</span>
     </div>
     <div>
        <label>City</label>
        <input type="text" class="City" id="City" name="City"/>
        <span id="cityError" style="display:none;">*Please enter city</span>
    </div>
    <div>
        <label>About us </label>
    <textarea id="message" class="AboutUs" title="Aboutus" name="About us" maxlength="2000" cols="60" rows="5"  ></textarea>
    <span id="aboutusError" style="display: none;" >*Please fill the field </span>
    </div>
    <div>
      <label>Website</label>
      <input type="url" name="URL" id="url" class="urlinput"  />
      <span id="urlError" style="display:none">*Please enter valid URL</span>
    </div>
    <div class="SocialMedia">
        <label>social media URLs  </label>
        <div class="mediaURL"><label >Discord</label><input type="text" id="discard" name="Discard" /></div>
        <div class="mediaURL"><label>Facebook</label><input type="text" id="facebook" name="facebook" /></div>
        <div class="mediaURL"><label>LinkedIn</label><input type="text" id="linkedin" name="linkedin" /></div>
        <div class="mediaURL"><label>Instagram</label><input type="text" id="instagram" name="instagram"/></div>
        <div class="mediaURL"><label>Youtube</label><input type="text" id="youtube" name="youtube"/></div>
    </div>
    <div>
    <label>Industries  </label>
    <select class="selectIndurtries" id="selectIndurtries"  name="Indurstry" title="Indurstry">
        <option  disabled selected></option>
        <option value="Agriculture">Agriculture</option>
        <option value="Arts">Arts</option>
        <option value="Construction">Construction</option>
        <option value="Consumer Goods">Consumer Goods</option>
        <option value="Corporate Services">Corporate Services</option>
        <option value="Design">Design</option>
        <option value="Education">Education</option>
        <option value="Energy & Mining">Energy & Mining</option>
        <option value="Entertainment">Entertainment</option>
        <option value="Finance">Finance</option>
        <option value="Hardware & Networking">Hardware & Networking</option>
        <option value="Health Care">Health Care</option>
        <option value="Legal">Legal</option>
        <option value="Manufacturing">Manufacturing</option>
        <option value="Media & Communications">Media & Communications</option>
        <option value="Nonprofit">Nonprofit</option>
        <option value="Public Administration">Public Administration</option>
        <option value="Public Safety">Public Safety</option>
        <option value="Real Estate">Real Estate</option>
        <option value="Recreation & Travel">Recreation & Travel</option>
        <option value="Retail">Retail</option>
        <option value="Software & IT Services">Software & IT Services</option>
        <option value="Transportation & Logistics">Transportation & Logistics</option>
        <option value="Wellness & Fitness">Wellness & Fitness</option>
    </select>
    <span id="industry" style="display: none;">Please select Indrustry</span>
    </div>
    <div>
        <label>Company Size  </label>
    <input type="number" id="CompanySize" name="Company Size"  title="Company Size" class="number" />
    <span id="company" style="display: none;">*Please select the company Size</span>
    </div>
    <div>
        <label>Email  </label>
    <input type="email" id="email" class="email" name="Email" title="Email" placeholder="" />
    <span id="Email" style="display: none;">Please enter a valid email address</span>
    </div>
    <div>
        <label> Type  </label>
    <select class="Type" name="Type" title="Type" id="Type" >
        <option  disabled selected></option>
        <option value="Sole Proprietorships"><a href="#">Sole Proprietorships</a></option>
        <option value="Partnerships"><a href="#">Partnerships</a></option>
        <option value="Corporations"><a href="#">Corporations</a></option>
        <option value="S Corporations"><a href="#">S Corporations</a></option>
     </select>
     <span id="Typeof" style="display: none;">Please select a Type</span>
     </div>
     <div>
        <label>Founded In  </label>
     <input type="number" id="FoundedIn" name="Founded"  title="Founded" class="FoundedIn" />
     <span id="founded" style="display: none;">Please enter a valid year</span>
     </div>
     <div>
        <label>Specialties  </label>
      <input type="text"  id="Specialties" name="specialization" class="Specialties" placeholder="" />
      <span id="special"style="display: none;">*Please fill the field</span>
     </div> 
     <div id="uploadButton" >
      <label for="UploadPNG" class="uploadPNG">Upload .png</label>
      <input type="file" id="UploadPNG" style="display: none;" accept="image/png"  name="Upload PNG" />
      <Span id="pngError" style="display: none;">*Please select the file</Span>
      </div>
      <div id="uploadButton">
        <label for="fileInput" class="uploadCover">Upload Cover</label>
      <input type="file" id="fileInput" style="display: none;" class="uploadCover" accept="image/png"  name="Upload cover"/>
      <Span id="coverError" style="display: none;">*Please select the file</Span>
      </div>
     <input type="submit" id="submit-button" value="Submit" class="submit"/>
</form>

<script>
 

//List of countries
 function loadCountries() {
        const Count = ["Afghanistan","Albania","Algeria","Andorra","Angola","Anguilla","Antigua &amp; Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia &amp; Herzegovina","Botswana","Brazil","British Virgin Islands","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Cape Verde","Cayman Islands","Chad","Chile","China","Colombia","Congo","Cook Islands","Costa Rica","Cote D Ivoire","Croatia","Cruise Ship","Cuba","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Estonia","Ethiopia","Falkland Islands","Faroe Islands","Fiji","Finland","France","French Polynesia","French West Indies","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guam","Guatemala","Guernsey","Guinea","Guinea Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Isle of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kuwait","Kyrgyz Republic","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macau","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Moldova","Monaco","Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Namibia","Nepal","Netherlands","Netherlands Antilles","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Norway","Oman","Pakistan","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Reunion","Romania","Russia","Rwanda","Saint Pierre &amp; Miquelon","Samoa","San Marino","Satellite","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","South Africa","South Korea","Spain","Sri Lanka","St Kitts &amp; Nevis","St Lucia","St Vincent","St. Lucia","Sudan","Suriname","Swaziland","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Timor L'Este","Togo","Tonga","Trinidad &amp; Tobago","Tunisia","Turkey","Turkmenistan","Turks &amp; Caicos","Uganda","Ukraine","United Arab Emirates","United Kingdom","Uruguay","Uzbekistan","Venezuela","Vietnam","Virgin Islands (US)","Yemen","Zambia","Zimbabwe"];
        var select = document.getElementById("Count");
        for (var i = 0; i < Count.length; i++) {
          var option = document.createElement("option");
          option.text = Count[i];
          select.add(option);
        }
      }

// form validations
  const orgname = document.querySelector("#organizationName");   
  const nameError = document.querySelector("#NameError"); 
  const locationInput = document.querySelector("#Count"); 
  const locationError = document.querySelector("#countryError"); 
  const CityInput = document.querySelector("#City"); 
  const fileInput = document.querySelector("#UploadPNG"); 
  const fileError = document.querySelector("#pngError"); 
  const coverInput = document.querySelector("#fileInput"); 
  const coverError = document.querySelector("#coverError"); 
  const CityError = document.querySelector("#cityError"); 
  const aboutusInput = document.querySelector("#message"); 
  const aboutusError = document.querySelector("#aboutusError"); 
  const urlInput = document.querySelector("#url"); 
  const urlError = document.querySelector("#urlError"); 
  const CompanySizeInput = document.querySelector("#CompanySize"); 
  const CompanySizeError = document.querySelector("#company"); 
  const specialtyInput = document.querySelector("#Specialties"); 
  const specialtyError = document.querySelector("#special"); 
  const colorSelect = document.querySelector("#Type");
  const colorError = document.querySelector("#Typeof");
  const yearInput = document.querySelector("#FoundedIn");
  const yearError = document.querySelector("#founded");  
  const emailInput = document.querySelector("#email"); 
  const emailError = document.querySelector("#Email");
  const selectIndurtries = document.querySelector("#selectIndurtries");
  const industryError = document.querySelector("#industry");

//year validation
yearInput.addEventListener("input", function() {
  yearError.style.display = "none";
});

orgname.addEventListener("input", function(){
 nameError.style.display="none";
});
locationInput.addEventListener("input", function(){
  locationError.style.display="none";
});
CityInput.addEventListener("input", function(){
 CityError.style.display="none";
});

aboutusInput.addEventListener("input", function(){
  aboutusError.style.display="none";
});

urlInput.addEventListener("input", function(){
  urlError.style.display="none";
});

selectIndurtries.addEventListener("input", function(){
  industryError.style.display="none";
});
CompanySizeInput.addEventListener("input", function(){
 CompanySizeError.style.display="none";
});

 emailInput.addEventListener("input", function() {
  emailError.style.display = "none";
});

colorSelect.addEventListener("input", function(){
 colorError.style.display="none";
});

specialtyInput.addEventListener("input", function(){
 specialtyError.style.display="none";
});
fileInput.addEventListener("input", function(){
 fileError.style.display="none";
});
coverInput.addEventListener("input", function(){
 coverError.style.display="none";
});

//email validation
function validateEmail(email) {
  const regex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
  return regex.test(email);
}

//Validate URL
function validateURL(url) {
  const regex = /(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g;
  return regex.test(url);
}

//year validation
function validateYear(year) {
  const regex = /^\d{4}$/;
  return regex.test(year) && year >= 1900 && year <= new Date().getFullYear();
}

//submit function operation
const form=document.getElementById("contact-form");  
 form.addEventListener('submit', function(e){
        e.preventDefault();
        const formData = new FormData(form);
    const formValues = {};
    for (const [key, value] of formData.entries()) {
      formValues[key] = value;
    }
    console.log(formValues);
   
   
  const nameErr = orgname.value;
  const EmailError = emailInput.value;
  const yearss = yearInput.value;
  const color = colorSelect.value;
  const Indurtries=selectIndurtries.value;
  const locationErr=locationInput.value;
  const AboutusErr = aboutusInput.value;
  const urlErr = urlInput.value;
  const companySizeErr = CompanySizeInput.value;
  const SpecialErr = specialtyInput.value;
  const CityErr = CityInput.value;
  const fileErr = fileInput.value;
  const coverErr = coverInput.value;

     
         document.getElementById("uploadButton").onclick = () => {
      let fileElement = document.getElementById('fileInput')

      // check if user had selected a file
      if (!fileElement.files.length) {
        return
      }

      let file = fileElement.files[0]

      let formData = new FormData();
      formData.set('file', file);

      axios.post("/", formData, {
        onUploadProgress: progressEvent => {
          const percentCompleted = Math.round(
            (progressEvent.loaded * 100) / progressEvent.total
          );
          console.log(`upload process: ${percentCompleted}%`);
        }
      })
        .then(res => {
          console.log(res.data)
          console.log(res.data.url)
        })
    }
     

    if(!nameErr){
    nameError.style.display="block";
    return;
  }
  nameError.style.display="none";

  if(!locationErr){
    locationError.style.display="block";
    return;
  }
  locationError.style.display="none";

  if(!CityErr){
    CityError.style.display="block";
    return;
  }
  CityError.style.display="none";

  if(!AboutusErr){
    aboutusError.style.display="block";
    return;
  }
  aboutusError.style.display="none";

  if (!validateURL(urlErr)) {
    urlError.style.display = "block";
    return;
  }
  urlError.style.display = "none";


  if (!Indurtries) {
    industryError.style.display = "block";
    return;
  }
  industryError.style.display="none";

  if(!companySizeErr){
    CompanySizeError.style.display="block";
    return;
  }
  CompanySizeError.style.display="none";


  if (!validateEmail(EmailError)) {
    emailError.style.display = "block";
    return;
  }
  emailError.style.display = "none";

    if (!color) {
    colorError.style.display = "block";
    return;
  }
    colorError.style.display = "none";

  if (!validateYear(yearss)) {
    yearError.style.display = "block";
    return;
  }
  yearError.style.display = "none";
  
  if(!SpecialErr){
    specialtyError.style.display="block";
    return;
  }
  specialtyError.style.display="none";

  if(!fileErr){
    fileError.style.display="block";
    return;
  }
  fileError.style.display="none"; 

  if(!coverErr){
    coverError.style.display="block";
    return;
  }
  coverError.style.display="none"; 
 })
</script>